<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, viewport-fit=cover" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="x-ua-compatible" content="IE=edge" />

    <title>Demo</title>

    <link href="https://vjs.zencdn.net/7.0/video-js.min.css" rel="stylesheet" />
    <script src="https://vjs.zencdn.net/7.0/video.min.js"></script>
    <style>
      .video-players {
        margin-left: auto;
        margin-right: auto;
        margin-bottom: 20px;
      }
      .video-item-wrapper {
        width: 0;
        height: 0;
        max-width: 1020px;
        margin-left: auto;
        margin-right: auto;
      }
      .video-item-wrapper.wrapper-visible {
        width: auto;
        height: inherit;
      }
      .video-item-wrapper .video-js {
        overflow: hidden;
        position: relative;
        width: 100%;
        height: 100%;
        padding-bottom: 56.3%;
      }
      .video-players-navigation {
        display: flex;
        justify-content: center;
        flex-wrap: wrap;
        max-width: 140px;
        width: 90%;
        margin: auto;
      }
      .left-right-arrow {
        width: 100%;
        display: flex;
        justify-content: space-between;
      }
      .up-arrow,
      .down-arrow {
        width: 100%;
        display: flex;
        justify-content: center;
      }
      .video-players-navigation button {
        border: none;
        height: 40px;
        width: 40px;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        background-color: #fff;
        transition: all 0.3s ease-in-out;
      }
      .video-players-navigation button:hover {
        background-color: #f6f6f6;
      }
      .video-players-navigation img {
        max-width: 30px;
      }
    </style>
  </head>

  <body>
    <div class="page-container">
      <div class="video-section">
        <div class="video-player-wrapper">
          <div class="video-players"></div>
          <div class="video-players-navigation">
            <div class="up-arrow">
              <button type="button">
                <img src="./images/up-arrow.png" alt="Up" />
              </button>
            </div>
            <div class="left-right-arrow">
              <button type="button" onclick="prev(9)">
                <img src="./images/left-arrow.png" alt="Previous" />
              </button>
              <button type="button" onclick="next(1)">
                <img src="./images/right-arrow.png" alt="Next" />
              </button>
            </div>
            <div class="down-arrow">
              <button type="button">
                <img src="./images/down-arrow.png" alt="Down" />
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      const players = [
        {
          id: 1,
          url: 'https://dt6bp6jtza230.cloudfront.net/3ea5d6f5-d870-46af-8870-52ed1b08f265/FileGroup1/Cam1_Mp4_Avc_Aac_16x9_1920x1080p_24Hz_8.5Mbps_qvbr.mp4',
        },
        {
          id: 2,
          url: 'https://dt6bp6jtza230.cloudfront.net/952ead4d-c612-46fc-b6ea-1b48c6dfcaf2/FileGroup1/Cam2_Mp4_Avc_Aac_16x9_1920x1080p_24Hz_8.5Mbps_qvbr.mp4',
        },
        {
          id: 3,
          url: 'https://dt6bp6jtza230.cloudfront.net/3e9ddf49-58d7-4f06-a3f4-905711dedbb9/FileGroup1/Cam3_Mp4_Avc_Aac_16x9_1920x1080p_24Hz_8.5Mbps_qvbr.mp4',
        },
        {
          id: 4,
          url: 'https://dt6bp6jtza230.cloudfront.net/fba2c744-1e62-40f5-ad8a-095c34eb5ab7/FileGroup1/Cam4_Mp4_Avc_Aac_16x9_1920x1080p_24Hz_8.5Mbps_qvbr.mp4',
        },
        {
          id: 5,
          url: 'https://dt6bp6jtza230.cloudfront.net/fba2c744-1e62-40f5-ad8a-095c34eb5ab7/FileGroup1/Cam4_Mp4_Avc_Aac_16x9_1920x1080p_24Hz_8.5Mbps_qvbr.mp4',
        },
        {
          id: 6,
          url: 'https://dt6bp6jtza230.cloudfront.net/06471164-5c84-4ae5-be55-4d9a26909da5/FileGroup1/Cam5_Mp4_Avc_Aac_16x9_1920x1080p_24Hz_8.5Mbps_qvbr.mp4',
        },
        {
          id: 7,
          url: 'https://dt6bp6jtza230.cloudfront.net/d9fc6ae6-3227-4a20-8335-2f43435d516c/FileGroup1/Cam7_Mp4_Avc_Aac_16x9_1920x1080p_24Hz_8.5Mbps_qvbr.mp4',
        },
        {
          id: 8,
          url: 'https://dt6bp6jtza230.cloudfront.net/0cfe77b6-ef5e-445e-8177-b4e65405a48b/FileGroup1/Cam8_Mp4_Avc_Aac_16x9_1920x1080p_24Hz_8.5Mbps_qvbr.mp4',
        },
        {
          id: 9,
          url: 'https://dt6bp6jtza230.cloudfront.net/5256eeec-d676-429e-ae7c-3a2f924cf6d9/FileGroup1/Cam9_Mp4_Avc_Aac_16x9_1920x1080p_24Hz_8.5Mbps_qvbr.mp4',
        },
      ];

      const wrapper = document.querySelector('.video-players');
      let currentVideoId = 1;
      let nextVideoId = 2;
      let previousVideoId = 9;

      players.map((item) => {
        return (wrapper.innerHTML += `
        <div class="video-item-wrapper ${item.id === 1 ? 'wrapper-visible' : ''}" id="video-wrapper-${item.id}">
          <video id="my-player${item.id}" data-id="${item.id}" class="video-js" playsinline loop muted autoplay controls width="${
          item.id === 1 ? 1020 : 0
        }" height="${item.id === 1 ? 574 : 0}" data-setup='{}' >
            <source src="${item.url}">
            <p>Your browser doesn't support HTML5 video.</p>
          </video>
        </div>
        `);
      });

      function next() {
        if (currentVideoId === players.length) {
          currentVideoId = 1;
        } else {
          currentVideoId += 1;
        }

        const remainingPlayer = players.filter((player) => {
          return player.id !== currentVideoId;
        });

        remainingPlayer.map((player) => {
          document.querySelector(`#video-wrapper-${player.id}`).classList.remove('wrapper-visible');
          videojs.getPlayer(`my-player${player.id}`).dimensions(0, 0);
        });

        document.querySelector(`#video-wrapper-${currentVideoId}`).classList.add('wrapper-visible');
        videojs.getPlayer(`my-player${currentVideoId}`).dimensions(1020, 729);
      }

      function prev() {
        if (currentVideoId === 1) {
          currentVideoId = 9;
        } else {
          currentVideoId -= 1;
        }

        const remainingPlayer = players.filter((player) => {
          return player.id !== currentVideoId;
        });

        remainingPlayer.map((player) => {
          document.querySelector(`#video-wrapper-${player.id}`).classList.remove('wrapper-visible');
          videojs.getPlayer(`my-player${player.id}`).dimensions(0, 0);
        });

        document.querySelector(`#video-wrapper-${currentVideoId}`).classList.add('wrapper-visible');
        videojs.getPlayer(`my-player${currentVideoId}`).dimensions(1020, 574);
      }

    </script>
  </body>
</html>
